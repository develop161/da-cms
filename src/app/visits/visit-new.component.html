<script src='visit-new.component.ts'></script>
<div class='container'>
  <h1>{{pageTitle}}</h1>
  <form #form='ngForm' novalidate>
    <div class='form-group'>
      <label>Reason of visit</label>
      <input type='text' class='form-control' placeholder='Reason of visit' name='reasonOfVisit'
             [(ngModel)]='visit.reasonOfVisit' required>
    </div>
    <div class='form-group'>
      <label>Consult</label>
      <input type='text' class='form-control' placeholder='Consult' name='consult' [(ngModel)]='visit.consult' required>
    </div>
    <div class='form-group'>
      <label>Patient</label>
      <select class='form-control' name='medication' [(ngModel)]='visit.patient'>
        <option value='{{patient._id}}' *ngFor='let patient of patients'>{{patient.firstName}} {{patient.lastName}}
        </option>
      </select>
    </div>
    <div class='form-group'>
      <label>Date of visit</label>
      <input type='date' class='form-control' placeholder='Date of birth' name='date-of-visit'
             [(ngModel)]='visit.dateOfVisit' required>
    </div>
    <div class='form-group'>
      <label>Prescribed medication [Reason of visit (date)]</label>
      <select multiple class='form-control' name='medication' [(ngModel)]='visit.prescribedMedication'>
        <option value='{{medication._id}}' *ngFor='let medication of medications'>{{medication.name}}
          ({{medication.dose}})
        </option>
      </select>
    </div>
    <button type='submit' class='btn btn-success' (click)='onSubmit()'>Submit</button>
  </form>
</div>
<div class='alert alert-success' *ngIf='successMessage'>
  <strong>{{successMessage}}</strong>
</div>
<div class='alert alert-danger' *ngIf='errorMessage'>
  <strong>{{errorMessage}}</strong>
</div>
<div class='panel-footer'>
  <a class='btn btn-default' (click)='onBack()'>
    <i class='glyphicon glyphicon-chevron-left'></i> Back
  </a>
</div>

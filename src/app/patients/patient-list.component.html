<script src="patient-list.component.ts"></script>
<div class="jumbotron">
  <h2>{{pageTitle}}</h2>
  <p>A list of all patients</p>
  <div class='row'>
    <div class='col-md-2'>Filter by:</div>
    <div class='col-md-4'>
      <input type='text' [(ngModel)]='listFilter'/>
    </div>
  </div>
  <div class='row pull-right'>
    <div class='col-md-6'>
      <button type="button" class="btn" (click)='onNewPatient()'>New Patient</button>
    </div>
  </div>
</div>
<div class="container">
  <div class='panel-body'>
    <div class='table-responsive'>
      <table class="table table-hover"
             *ngIf='patients && patients.length'>
        <thead>
        <tr>
          <th>First Name</th>
          <th>Last Name</th>
          <th>address</th>
          <th>Birthdate</th>
          <th>Last visited date</th>
          <th>More info</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor='let patient of filteredPatients'>
          <td>
            {{ patient.firstName }}
          </td>
          <td>
            {{ patient.lastName }}
          </td>
          <!-- <td>{{ patient._id | uppercase | convertToSpaces: '-' }}</td> -->
          <td>{{ patient.address }}</td>
          <td>{{ patient.dateOfBirth | date: 'dd/MM/yyyy' }}</td>
          <td>{{ patient.updatedAt | date: 'dd/MM/yyyy' }}</td>
          <td>
            <button class='btn btn-primary'
                    (click)='showDetails(patient._id)'>
              Details
            </button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>
<div *ngIf='errorMessage' class='alert alert-danger'>
  Error: {{ errorMessage }}
</div>


